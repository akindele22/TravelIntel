services:
  - type: web
    name: travelintel-web
    env: python
    plan: free
    branch: main
    buildCommand: pip install -r requirements.txt && playwright install chromium || true
    startCommand: streamlit run dashboard.py --server.port $PORT --server.address 0.0.0.0
# background "worker" services are not available on the free plan.
# Instead you can either
# 1. run the pipeline script in a cron job (see Render Cron Job feature), or
# 2. merge the pipeline execution into the web service's startup command
#    (not recommended for production but acceptable on free tier).
# Example cron job entry (configure via Render UI, not here):
#   schedule: "@hourly"
#   command: "python run_all.py"

# Notes:
# - Provide DB credentials via Render environment variables: DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD
# - If Playwright scraping is required at runtime Render's stock environment may not support the necessary browsers; use the Dockerfile option for full Playwright compatibility.
